# 구현과제 4. Blackzack

> 이 과제는 [우아한테크코스 웹 프론트엔드 프리코스 미션 - 숫자 야구](https://github.com/woowacourse-precourse/javascript-baseball-6)를 모티브로 제작되었습니다.

## 유의사항

**읽기 좋은 코드**에 집중해주세요.

- 기능의 정상 동작 여부
- 작성하는 코드의 퀄리티
- Git 관리 수준
- PR, 코드 리뷰 방식

**README 작성**은 필수입니다.

- 자신의 코드에서 강조할 부분
- 자신의 코드에서 부족한 부분
- 기타 코드를 이해하는데 도움을 주는 내용

Fork & PR 등 과제 진행과 관련된 내용은,  
 [우테코 따라잡기 2 노션 - 구현과제 진행 관련 유의사항](https://yopark.notion.site/2386b22b37b643c5ac67a6db8350e027) 문서를 참고해주세요.

## 구현해야 할 기능

> Blackzack 시연 레포 : https://github.com/yoopark/not-woowacourse-4-blackzack-for-example

컴퓨터를 딜러로 하는 **블랙잭** 게임을 제작해야 합니다.

브라우저가 아니라 노드 환경에서 실행되는 프로그램입니다. (콘솔을 통해 소통)

다음의 **간소화된 블랙잭 룰**을 따릅니다.

1. 카드 배분

- 딜러는 플레이어와 자신에게 각각 두 장의 카드를 나눠준다.
  - 플레이어 : 두 장 모두 오픈
  - 딜러 : 두 장 중 한 장만 오픈

2. 카드의 가치

- Ace : 1 또는 11 중 플레이어의 상황에 맞게 유리하게 사용할 수 있다.
- 페이스 카드(King, Queen, Jack) : 10
- 숫자 카드(2 ~ 10) : 카드에 적힌 숫자 그대로의 값

3. 플레이어의 선택

- 플레이어는 현재 카드의 합이 21 이하일 때 카드를 추가로 받을 수 있다.
  - **히트(Hit)** : 카드를 추가로 받겠다.
  - **스탠드(Stand)** : 카드를 그만 받겠다.
- 카드의 합이 21을 초과하면 즉시 패배(버스트, Bust)하게 되며, 베팅 금액을 모두 잃는다.

4. 승패 결정

- 플레이어가 버스트한 경우에는 **즉시 패배**한다.
- 플레이어가 스탠드한 후, 딜러는 뒤집었던 카드를 공개하고 다음의 규칙에 따라 카드를 받는다.
  - 딜러의 카드 합이 16 이하 : 반드시 히트
  - 딜러의 카드 합이 17 이상 : 반드시 스탠드
- 승패는 다음 기준에 따른다.
  - 딜러가 버스트 : 승리(베팅 금액을 추가로 얻는다)
  - `딜러의 카드 합 < 플레이어의 카드 합` : 승리(배팅 금액을 추가로 얻는다)
  - `딜러의 카드 합 = 플레이어의 카드 합` : 무승부(베팅 금액을 돌려받는다)
  - `딜러의 카드 합 > 플레이어의 카드 합` : 패배(베팅 금액을 잃는다)

5. 카드 카운팅

- 이번 구현에서는, 1덱(조커를 제외한 52장)만을 사용하며, 카드를 모두 소진하면 새 덱을 사용한다.
  - 통상적으로는 카드 카운팅을 어렵게 하기 위해 4 ~ 8덱을 셔플하여 사용한다.

> 블랙잭을 소재로 한 영화 <21>을 추천합니다 🃏  
> [무비프라임 유튜브, 라스베가스를 털어버린 MIT 천재들 실화 (결말포함)](https://youtu.be/_DO5S-mia3s)

## 입출력 예시

Phase 1. _오프닝_

**출력**

```
블랙잭 게임을 시작합니다.
```

Phase 2. _최초 분배_

**출력**

```
딜러가 공개한 카드는 8스페이드입니다.
플레이어가 받은 카드는 7클로버, A하트입니다.
```

Phase 3. _플레이어 동작_

**입력**

- 동작 결정

```
카드를 추가로 받겠습니까? (y/n) :
```

**출력**

- 히트한 경우

```
카드를 추가로 받겠습니까? (y/n) : y
플레이어가 받은 카드는 J하트입니다.
카드를 추가로 받겠습니까? (y/n) :
```

- 히트한 경우 (버스트)

```
카드를 추가로 받겠습니까? (y/n) : y
플레이어가 받은 카드는 J하트입니다.
플레이어가 버스트입니다.
```

- 스탠드한 경우

```
카드를 추가로 받겠습니까? (y/n) : n
플레이어 카드의 합은 18입니다.
```

- Ace가 여러장인 경우 가장 처음 받은 Ace부터 1로 줄여나간다.

Phase 4. _딜러 동작_

**출력**

```
딜러가 남은 카드를 공개합니다.
딜러가 공개한 카드는 8스페이드입니다.
딜러가 히트하였습니다.
딜러가 받은 카드는 A스페이드입니다.
딜러가 스탠드하였습니다.
딜러 카드의 합은 21입니다.
```

- 딜러가 버스트한 경우

```
딜러가 남은 카드를 공개합니다.
딜러가 공개한 카드는 8스페이드입니다.
딜러가 히트하였습니다.
딜러가 받은 카드는 10스페이드입니다.
딜러가 버스트입니다.
```

Phase 5. _엔딩_

**출력**

- 패배한 경우

```
플레이어가 패배하였습니다 😭
```

- 승리한 경우

```
WINNER WINNER CHICKEN DINNER 🍗
```

- 무승부인 경우

```
무승부입니다.
```

Phase 6. _게임 재개_

**입력**

- 게임 진행 여부

```
게임을 계속하시겠습니까? (y/n) :
```

**출력**

- 계속하는 경우

```
게임을 계속하시겠습니까? (y/n) : y
블랙잭 게임을 시작합니다.
...
```

- 종료하는 경우

```
게임을 계속하시겠습니까? (y/n) : n
블랙잭 게임을 종료합니다.
- 최종 승/무/패 : 3/0/1
```

**실행 결과 예시**

```
블랙잭 게임을 시작합니다.
딜러가 공개한 카드는 8스페이드입니다.
플레이어가 받은 카드는 7클로버, A하트입니다.
카드를 추가로 받겠습니까? (y/n) : y
플레이어가 받은 카드는 J하트입니다.
카드를 추가로 받겠습니까? (y/n) : n
플레이어 카드의 합은 18입니다.
딜러가 남은 카드를 공개합니다.
딜러가 공개한 카드는 2클로버입니다.
딜러가 히트하였습니다.
딜러가 받은 카드는 A스페이드입니다.
딜러가 스탠드하였습니다.
딜러 카드의 합은 21입니다.
플레이어가 패배하였습니다 😭
게임을 계속하시겠습니까? (y/n) : n
블랙잭 게임을 종료합니다.
- 최종 승/무/패 : 3/0/1
```

- 사용자가 잘못된 값을 입력한 경우 `throw` 문을 사용해 예외를 발생시킨 후 애플리케이션을 종료하여야 합니다.
- 나눠주는 도중 카드가 모두 소진된 경우 새로운 덱을 셔플하여 사용하여야 합니다.

## 기술 스택 관련 제한사항

- 이번 과제에서는, 의존성 패키지를 변경할 수 없습니다. 순수 Vanila JavaScript로 구현하여야 합니다. (Lodash 등 설치 금지)
- `index.js`를 수정하지 마세요. `npm run build`, `npm run start`를 차례대로 입력하여 프로그램을 번들 및 실행할 수 있습니다.
- 프로그램 종료 시 `process.exit()`을 호출하지 마세요.
- `__tests__` 폴더에 기작성된 테스트 코드를 모두 통과해야 합니다. `npm run test`를 입력하여 테스트할 수 있습니다.
